sap.ui.define(["sap/ui/core/mvc/Controller","../model/formatter","sap/ui/model/json/JSONModel","sap/ui/core/dnd/DragInfo","sap/f/dnd/GridDropInfo","sap/ui/core/library"],function(e,a,t,n,o,r){"use strict";return e.extend("lab.PresentationSite.controller.Home",{formatter:a,onInit:function(){let e=navigator.language||navigator.userLanguage;let a=new t({language:e,theme:"light"});this.getView().setModel(a,"config");this._changeLanguage(e);var i=r.dnd.DropLayout;var g=r.dnd.DropPosition;var s=this.byId("idGridContainer");s.addDragDropConfig(new n({sourceAggregation:"items"}));s.addDragDropConfig(new o({targetAggregation:"items",dropPosition:g.Between,dropLayout:i.Horizontal,drop:function(e){var a=e.getParameter("draggedControl"),t=e.getParameter("droppedControl"),n=e.getParameter("dropPosition"),o=s.indexOfItem(a),r=s.indexOfItem(t);s.removeItem(a);if(o<r){r--}if(n==="After"){r++}s.insertItem(a,r);s.focusItem(r)}}));s.attachLayoutChange(function(e){var a=e.getParameter("layout");if(a==="layoutXS"||a==="layoutS"){s.removeStyleClass("sapUiSmallMargin");s.addStyleClass("sapUiTinyMargin")}else{s.removeStyleClass("sapUiTinyMargin");s.addStyleClass("sapUiSmallMargin")}})},onChangeLanguage:function(){let e=this.getView().getModel("config").getProperty("/");this._changeLanguage(e.language)},onChangeTheme:function(){let e=this.getView().getModel("config").getProperty("/");this._changeTheme(e.theme)},_changeLanguage(e){let a=e.substr(0,2)==="fr"?"cardManifest-fr.json":"cardManifest.json";let n=new t(sap.ui.require.toUrl("lab/PresentationSite/"+a));this.getView().setModel(n,"manifests");sap.ui.getCore().getConfiguration().setLanguage(e)},_changeTheme:function(e){var a=e==="dark"?"sap_horizon_dark":"sap_horizon";sap.ui.getCore().applyTheme(a)}})});
//# sourceMappingURL=Home.controller.js.map